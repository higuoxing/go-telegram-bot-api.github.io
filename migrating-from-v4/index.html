<!doctype html><html><head><title>go-telegram-bot-api</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=generator content="Hugo 0.49"><title>Migrating from V4 :: go-telegram-bot-api</title><link rel="shortcut icon" href=/images/favicon.png type=image/x-icon><link href=/css/font-awesome.min.css rel=stylesheet><link href=/css/nucleus.css rel=stylesheet><link href=/theme-flex/style.css rel=stylesheet><link rel=stylesheet href=/css/bootstrap.min.css><script src=/js/jquery-2.x.min.js></script><script type=text/javascript>var baseurl="https:\/\/go-telegram-bot-api.github.io";</script><meta name=description content></head><body data-url=/migrating-from-v4/><header><div class=logo><a class=baselink href=https://go-telegram-bot-api.github.io>go-telegram-bot-api</a></div><div class=burger><a href=javascript:void(0); style=font-size:15px>&#9776;</a></div></header><article><aside><ul class=menu><li data-nav-id=/ class=dd-item><a href=/><i class="fa fa-fw fa-home"></i></a></li><li data-nav-id=/getting-started/ class="dd-item haschildren"><div><a href=/getting-started/>Getting Started</a><i class="fa fa-angle-right fa-lg category-icon"></i></div><ul><li data-nav-id=/getting-started/frameworks/ class=dd-item><div><a href=/getting-started/frameworks/>Further reading</a></div></li></ul></li><li data-nav-id=/migrating-from-v4/ class="dd-item parent active"><div><a href=/migrating-from-v4/>Migrating from V4</a></div></li><li data-nav-id=/examples/ class="dd-item haschildren"><div><a href=/examples/>Examples</a><i class="fa fa-angle-right fa-lg category-icon"></i></div><ul><li data-nav-id=/examples/reply-bot/ class=dd-item><div><a href=/examples/reply-bot/>Reply Bot</a></div></li><li data-nav-id=/examples/commands/ class=dd-item><div><a href=/examples/commands/>Commands</a></div></li><li data-nav-id=/examples/keyboard/ class=dd-item><div><a href=/examples/keyboard/>Keyboard</a></div></li></ul></li></ul><section></section></aside><section class=page><div class=nav-select><center>Navigation :
<select onchange="location.href=this.value;">
<option value=/getting-started/>Getting Started</option>
<option value=/migrating-from-v4/ selected>Migrating from V4</option>
<option value=/examples/>Examples</option></select></center></div><div><div class=searchbox><input data-search-input id=search-by type=text placeholder=Search...></div><script type=text/javascript src=/js/lunr.min.js></script><script type=text/javascript src=/js/auto-complete.js></script><link href=/css/auto-complete.css rel=stylesheet><script type=text/javascript>var baseurl="https:\/\/go-telegram-bot-api.github.io";</script><script type=text/javascript src=/js/search.js></script></div><h1>Migrating from V4</h1><p>v5 introduces a number of backwards incompatible changes. The most major change is removing a number of functions that returned an <code>APIResponse</code>. As these functions had no specific return type, there was no reason to not use the <code>Config</code> directly with the newly introduced <code>Request</code> function.</p><h2 id=major-changes>Major Changes</h2><ul><li>Methods that returned an <code><a href=https://godoc.org/github.com/go-telegram-bot-api/telegram-bot-api#APIResponse>APIResponse</a></code> were removed. Instead of using the previous function, you can switch to using the <code><a href=https://godoc.org/github.com/go-telegram-bot-api/telegram-bot-api#Request>Request</a></code> method with no further changes. For example, <code>bot.SetWebhook(config)</code> can be replaced with <code>bot.Request(config)</code>.</li><li><code><a href=https://godoc.org/github.com/go-telegram-bot-api/telegram-bot-api#BotAPI.GetUpdatesChan>BotAPI.GetUpdatesChan</a></code> no longer returns an error. As it was always nil, there is no reason to include it.</li><li>There are no longer pointers to arrays, they were replaced with the array directly.</li><li><code><a href=https://godoc.org/github.com/go-telegram-bot-api/telegram-bot-api#MakeRequest>MakeRequest</a></code> now takes in a <code><a href=https://godoc.org/github.com/go-telegram-bot-api/telegram-bot-api#Params>Params</a></code> argument instead of <code>url.Values</code>.</li><li><code><a href=https://godoc.org/github.com/go-telegram-bot-api/telegram-bot-api#UploadFile>UploadFile</a></code> now takes in a <code><a href=https://godoc.org/github.com/go-telegram-bot-api/telegram-bot-api#Params>Params</a></code> argument instead of <code>map[string]string</code>.</li></ul><h2 id=new-features>New Features</h2><ul><li>At the time of writing, every Telegram Bot API method and type is implemented.</li><li>Any <code>Config</code> can be sent with <code><a href=https://godoc.org/github.com/go-telegram-bot-api/telegram-bot-api#Request>Request</a></code>.</li></ul><h2 id=internal-library-improvements>Internal Library Improvements</h2><ul><li>Removed <code><a href=https://godoc.org/github.com/go-telegram-bot-api/telegram-bot-api#Chattable>Chattable</a></code> <code>values()</code> and just use <code><a href=https://godoc.org/github.com/go-telegram-bot-api/telegram-bot-api#Chattable>Chattable</a></code> <code>params()</code> instead.</li><li>Using new <code><a href=https://godoc.org/github.com/go-telegram-bot-api/telegram-bot-api#Params>Params</a></code> type instead of a <code>map</code> or <code>url.Values</code> directly. This new type has a number of helper methods attached to it which greatly reduce the amount of boilerplate code for adding fields.</li></ul><div class=chevrons><div id=navigation><a class="nav nav-prev" href=/getting-started/frameworks/ title="Further reading"><i class="fa fa-chevron-left"></i><label>Further reading</label></a>
<a class="nav nav-next" href=/examples/ title=Examples style=margin-right:0><label>Examples</label><i class="fa fa-chevron-right"></i></a></div></div></section></article><footer><div class=footline><div class=github-link><a href=https://github.com/go-telegram-bot-api/docs/edit/master/content/migrating-from-v4/_index.md target=blank><i class="fa fa-code-fork"></i>Improve this page</a></div></div><div><p>Last updated 2018-10-09</p></div></footer><script src=/js/clipboard.min.js></script><link href=/css/featherlight.min.css rel=stylesheet><script src=/js/featherlight.min.js></script><script src=/theme-flex/script.js></script></body></html>